{% extends 'grades/base.html' %}
{% block content %}
<h1>所有學生列表</h1>

<a href="{% url 'grades:teacher_home' %}" class="btn btn-secondary">回首頁</a>

{% if students %}
<table border="1">
  <tr>
    <th>學號</th>
    <th>姓名</th>
    <th>所屬課程</th>
  </tr>

  {% for s in students %}
  <tr>
    <td>{{ s.student_id }}</td>
    <td>{{ s.name }}</td>
    <td>
        {% for e in s.enrollment_set.all %}
            {% if e.course.teacher_fk == teacher %}
                {{ e.course.title }}{% if not forloop.last %}, {% endif %}
            {% endif %}
        {% empty %}
            尚未選課
        {% endfor %}
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>目前沒有學生。</p>
{% endif %}

{% endblock %}
